Warning: PrePico module not available (requires scispacy)
Protocol formulation from research questions will be limited.
Warning: Meta-analyzer module incomplete
Module 5 (meta-analysis) will generate basic summaries only
======================================================================
THE VITALITY VANGUARD - META-ANALYSIS PIPELINE
======================================================================
Started at: 2025-10-23T00:13:38.525778
Output directory: /Users/anna.mazurek/Documents/Hackathon/the-vitality-vanguard/results_test


======================================================================
STEP 1: Protocol & PICO Formulation
======================================================================
Research question: Does taking resveratrol improve glycemic control in people with type 2 diabetes?
PrePico not available - using simple extraction...
✓ Protocol created and saved to: results_test/1_protocol/protocol.json
  Population: in people with type 2 diabetes?
  Intervention: resveratrol
  Comparison: placebo or standard care
  Outcomes: glycemic control, glycemic control in people with type 2 diabetes

======================================================================
STEP 2: Systematic Search & Retrieval
======================================================================
Search query: ((people OR type OR 2 OR diabetes?) AND (resveratrol) AND (glycemic control OR glycemic control in people with type 2 diabetes))
Searching PubMed...
Querying PubMed API...
https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=%28%28people+OR+type+OR+2+OR+diabetes%3F%29+AND+%28resveratrol%29+AND+%28glycemic+control+OR+glycemic+control+in+people+with+type+2+diabetes%29%29&retmode=json&retmax=10&datetype=pdat&mindate=2000%2F01%2F01&maxdate=2025%2F10%2F17

✓ Found 50 results, retrieved 10 PMIDs
Fetching article metadata...
✓ Saved 10 citations to: results_test/2_search/citations.jsonl

======================================================================
STEP 3: Screening & Selection
======================================================================
Running Title/Abstract screening...
Warning: TA screening returned code 1
Error: Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/Users/anna.mazurek/Documents/Hackathon/the-vitality-vanguard/screening/cli/ta_screen.py", line 71, in <module>
    main()
    ~~~~^^
  File "/Users/anna.mazurek/Documents/Hackathon/the-vitality-vanguard/screening/cli/ta_screen.py", line 39, in main
    tid = rec["id"]
          ~~~^^^^^^
KeyError: 'id'

Running Full-Text screening...
Generating PRISMA statistics...
Generating PRISMA flow diagram...
✓ Screening complete: 0 studies included

======================================================================
STEP 4: Data Extraction
======================================================================
Extracting data from 0 studies...
NOTE: This requires PDF files in ./pdfs/ directory

✗ ERROR: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
